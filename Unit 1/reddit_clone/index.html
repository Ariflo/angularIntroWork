<!DOCTYPE html>
<html>
<head>
	<title>Redditer</title>

	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.4/angular.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular-animate.js"></script>
	<script type="text/javascript" src="app.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body  ng-app='myApp'>
<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    
    <div class="navbar-header">
      <a class="navbar-brand" href="#">Redditer</a>
    </div>

    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li role="presentation" class="dropdown">
          <a href="#"  ng-click="hideStuff()">Post <span class="glyphicon glyphicon-plus"></span></a>
        </li>
      </ul>
      <form class="navbar-form navbar-left" role="search">
        <div class="form-group">
          <input type="text" class="form-control"  ng-model="searchText" placeholder="Search">
        </div>
      </form>
      <ul class="nav navbar-nav">
        <li class="dropdown">
        	<select  ng-model="currentOrderBy">
        		<option value="-rating">Sort by Votes</option>
        		<option  value="-date">Sort by Date</option>
        		<option value="-title">Sort by Title</option>
        	</select>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

<div ng-controller="firstController">
	<form name="postForm" ng-submit="postSubmit(postForm)"> 
	 	<div class="form-group">
	 	    	    <label for="Title">Title</label>
			    <input type="text" ng-model="newPostData.title" name="title" class="form-control" id="name" placeholder="Name">	

			    <label for="email">Author</label>
			    <input type="text" ng-model="newPostData.author" name="author" class="form-control" id="author" placeholder="Author">		 

			    <label for="image">Image</label>
			    <input type="text" ng-model="newPostData.image" name="image" class="form-control" id="image" placeholder="http://url.com">	

			    <label for="comment">Comment</label>
			    <input type="comment" ng-model="newPostData.comment" name="comment"  class="form-control" id="comment" placeholder="comments"><br>
	 	<input type="submit" class="btn btn-success"  value="POST">
	 	</div>
	</form>


	<div class="container" ng-if="show" ng-repeat = "post in posts | filter:searchText | orderBy: currentOrderBy">
		<div class="row">
			<div class = "col-xs-2" >
				<img src="{{post.image}}">
			</div>
			
			<div class="col-xs-10">
				 <div class="titleThumb">
				 <strong>{{post.title}}  |  </strong><span ng-click="ratingUp()" id="thumbs-up" class="glyphicon glyphicon-thumbs-up"></span><span  ng-click="ratingDown()" id="thumbs-down" class="glyphicon glyphicon-thumbs-down"></span>{{number}}
				 </div>
				<h6 class="text-right">by {{post.author}}</h6>
				<p class="">{{post.comment}}</p>
				<p><span class="glyphicon glyphicon-calendar"></span> {{post.date | date:'EEEE, MMMM d, y'}}
				| <span ng-click="toggleComments()"><span class="glyphicon glyphicon-comment"> View Comments</span></span>
				| <span ng-click="toggleNewComment()"> <span class="glyphicon glyphicon-pencil"></span> New Comment</span></p>
			</div>
		</div>
		
		<div>
			<form name="newComment" ng-submit="postComment(newComment, post)" ng-show="newCommentOn==true">
				<label><b>Author:</b></label>
				<input type="text" name="author" ng-model="post.addComment.author">
				<label><b>Comment:</b></label> <input type="text" name="comment" ng-model="post.addComment.comment">
				<input type="submit">
			</form>
		</div>

		<div ng-repeat="comment in post.comments">
			<p ng-show="commentOn==true">{{comment.author}}: {{comment.comment}} </p>
		</div>

	</div>


</div>

</body>
</html>
